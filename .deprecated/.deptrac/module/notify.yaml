###  Module - Notify
parameters:
  NotifyGatewayLayerDir: src/Gateway/UI/Notify
  NotifyGatewayContractLayerDir: src/Gateway/UI/Notify/Contract
  NotifyControllerContractLayerDir: src/Module/Notify/Infrastructure/Controller/Contract
  NotifyApiLayerDir: src/Module/Notify/Api
  NotifyDomainLayerDir: src/Module/Notify/Domain
  NotifyApplicationLayerDir: src/Module/Notify/Application
  NotifyInfrastructureLayerDir: src/Module/Notify/Infrastructure

  layers:
    - name: LNotifyGateway
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%NotifyGatewayLayerDir%'
          must_not:
            - type: directory
              regex: '%NotifyGatewayContractLayerDir%'
    - name: LNotifyGatewayContract
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%NotifyGatewayContractLayerDir%'
    - name: LNotifyControllerContract
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%NotifyControllerContractLayerDir%'
    - name: LNotifyApi
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%NotifyApiLayerDir%'
    - name: LNotifyInfrastructure
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%NotifyInfrastructureLayerDir%'
          must_not:
            - type: directory
              regex: '%NotifyControllerContractLayerDir%'
            - type: className
              regex: '.*Adapter\\Module.*'
    - name: LNotifyApplication
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%NotifyApplicationLayerDir%'
    - name: LNotifyDomain
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%NotifyDomainLayerDir%'
    - name: LNotifyModuleAdapters
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%NotifyInfrastructureLayerDir%'
            - type: className
              regex: '.*Adapter\\Module.*'


  ruleset:
    LNotifyGateway:
      - LNotifyApi
      - +LNotifyGatewayContract
    LNotifyGatewayContract:
      - +LNotifyControllerContract
    LNotifyControllerContract:
      - LNotifyApi
      - +LNotifyInfrastructure
    LNotifyApi:
      - +SharedApplicationLayer
      - LNotifyApplication
    LNotifyInfrastructure:
      - +SharedInfrastructureLayer
      - +LNotifyApplication
    LNotifyApplication:
      - +SharedApplicationLayer
      - LNotifyDomain
    LNotifyDomain:
      - +SharedDomainLayer
    LNotifyModuleAdapters:
      - +LNotifyInfrastructure
