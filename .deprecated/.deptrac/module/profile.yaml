###  Module - Profile
parameters:
  ProfileGatewayLayerDir: src/Gateway/UI/Profile
  ProfileGatewayContractLayerDir: src/Gateway/UI/Profile/Contract
  ProfileControllerContractLayerDir: src/Module/Profile/Infrastructure/Controller/Contract
  ProfileApiLayerDir: src/Module/Profile/Api
  ProfileDomainLayerDir: src/Module/Profile/Domain
  ProfileApplicationLayerDir: src/Module/Profile/Application
  ProfileInfrastructureLayerDir: src/Module/Profile/Infrastructure

  layers:
    - name: LProfileGateway
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%ProfileGatewayLayerDir%'
          must_not:
            - type: directory
              regex: '%ProfileGatewayContractLayerDir%'
    - name: LProfileGatewayContract
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%ProfileGatewayContractLayerDir%'
    - name: LProfileControllerContract
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%ProfileControllerContractLayerDir%'
    - name: LProfileApi
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%ProfileApiLayerDir%'
    - name: LProfileInfrastructure
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%ProfileInfrastructureLayerDir%'
          must_not:
            - type: directory
              regex: '%ProfileControllerContractLayerDir%'
            - type: className
              regex: '.*Adapter\\Module.*'
    - name: LProfileApplication
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%ProfileApplicationLayerDir%'
    - name: LProfileDomain
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%ProfileDomainLayerDir%'
    - name: LProfileModuleAdapters
      collectors:
        - type: bool
          must:
            - type: directory
              regex: '%ProfileInfrastructureLayerDir%'
            - type: className
              regex: '.*Adapter\\Module.*'


  ruleset:
    LProfileGateway:
      - LProfileApi
      - +LProfileGatewayContract
    LProfileGatewayContract:
      - +LProfileControllerContract
    LProfileControllerContract:
      - LProfileApi
      - +LProfileInfrastructure
    LProfileApi:
      - +SharedApplicationLayer
      - LProfileApplication
    LProfileInfrastructure:
      - +SharedInfrastructureLayer
      - +LProfileApplication
    LProfileApplication:
      - +SharedApplicationLayer
      - LProfileDomain
    LProfileDomain:
      - +SharedDomainLayer
    LProfileModuleAdapters:
      - +LProfileInfrastructure
